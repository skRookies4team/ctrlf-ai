# ctrlf-ai-gateway 환경변수 설정 예시
# 이 파일을 복사하여 .env 파일을 생성하세요: cp .env.example .env

# =============================================================================
# 앱 기본 설정
# =============================================================================
APP_NAME=ctrlf-ai-gateway
APP_ENV=local  # local / dev / prod
APP_VERSION=0.1.0
LOG_LEVEL=INFO  # DEBUG / INFO / WARNING / ERROR

# =============================================================================
# AI 환경 모드 (mock / real)
# =============================================================================
# mock: Docker Compose 내 Mock 서비스 사용 (통합 테스트용)
# real: 실제 서비스 연결 (프로덕션/스테이징용)
AI_ENV=real

# =============================================================================
# LLM 서버 설정 (vLLM - 채팅 + 임베딩 통합)
# =============================================================================
LLM_BASE_URL=http://localhost:8001
LLM_MODEL_NAME=Qwen/Qwen2.5-7B-Instruct
EMBEDDING_MODEL_NAME=BAAI/bge-m3

# =============================================================================
# Milvus 벡터 검색 설정
# =============================================================================
# MILVUS_ENABLED=true면 RAGFlow 대신 Milvus 직접 사용
MILVUS_ENABLED=false
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION_NAME=ragflow_chunks
MILVUS_TOP_K=5

# =============================================================================
# RAGFlow 설정 (MILVUS_ENABLED=false일 때 사용)
# =============================================================================
RAGFLOW_BASE_URL=http://localhost:9380
RAGFLOW_API_KEY=
RAGFLOW_TIMEOUT_SEC=10.0
# Dataset 슬러그 → dataset_id 매핑 (domain:dataset_id,...)
# 실제 Milvus ragflow_chunks_sroberta 컬렉션의 dataset_id 값
# POLICY: 사내규정
# EDUCATION: 정보보안교육, 직무교육, 장애인인식개선교육, 직장내괴롭힘교육, 직장내성희롱교육
MILVUS_DATASET_MAPPING=POLICY:사내규정,EDUCATION:정보보안교육,EDUCATION:직무교육,EDUCATION:장애인인식개선교육,EDUCATION:직장내괴롭힘교육,EDUCATION:직장내성희롱교육

# =============================================================================
# Backend (Spring) 연동 설정
# =============================================================================
BACKEND_BASE_URL=http://localhost:8080
BACKEND_API_TOKEN=
BACKEND_INTERNAL_TOKEN=
BACKEND_TIMEOUT_SEC=30.0

# =============================================================================
# PII 마스킹 설정
# =============================================================================
# 외부 PII 서비스 URL (비어있으면 내장 규칙 사용)
PII_BASE_URL=
PII_ENABLED=true

# =============================================================================
# TTS 설정
# =============================================================================
# mock: 무음 파일 생성 (테스트용)
# gtts: Google TTS (무료, 품질 보통)
# polly: AWS Polly (유료, 고품질)
# gcp: Google Cloud TTS (유료, 고품질)
TTS_PROVIDER=gtts

# =============================================================================
# Storage 설정
# =============================================================================
# local: 로컬 파일시스템
# s3: AWS S3 직접 업로드
# backend_presigned: 백엔드 발급 Presigned URL로 업로드
STORAGE_PROVIDER=local
STORAGE_LOCAL_DIR=./data/assets
RENDER_OUTPUT_DIR=./video_output

# S3 설정 (STORAGE_PROVIDER=s3일 때)
# AWS_S3_BUCKET=
# AWS_S3_REGION=ap-northeast-2

# =============================================================================
# Video Rendering 설정
# =============================================================================
# basic: 단색 배경 + 텍스트
# animated: 씬 이미지 + Ken Burns + Fade 효과
VIDEO_VISUAL_STYLE=basic
VIDEO_WIDTH=1920
VIDEO_HEIGHT=1080

# =============================================================================
# CORS 설정
# =============================================================================
# 개발: * (모든 origin 허용)
# 프로덕션: https://your-domain.com (특정 도메인만)
CORS_ORIGINS=*

# =============================================================================
# 라우팅 설정 (Phase 21-22)
# =============================================================================
# RouterOrchestrator 활성화 (되묻기/확인 처리)
ROUTER_ORCHESTRATOR_ENABLED=false
# LLM 기반 2차 라우팅 활성화
ROUTER_USE_LLM=true
