# AI 개발팀 회의록 - 2025년 12월 11일

> **회의 일자**: 2025-12-11
> **작성일**: 2025-12-30
> **작성자**: Claude Code

---

## 1. 회의 개요

12월 11일은 **Phase 15: RAG Gap Suggestion API** 개발이 완료된 날입니다. 문서 기반 질문에서 RAG 검색 결과가 불충분할 때 사용자에게 보완 제안을 제공하는 기능을 구현했습니다.

---

## 2. 작업 내역

### 2.1 Phase 15: RAG Gap Suggestion API

#### 2.1.1 기능 개요

RAG 검색 결과가 사용자의 질문에 충분한 정보를 제공하지 못할 때, 어떤 문서나 정보를 추가하면 좋을지 제안하는 API입니다.

```
┌─────────────────────────────────────────────────────────────┐
│                 RAG Gap Suggestion 흐름                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  사용자 질문 입력                                            │
│        │                                                    │
│        ▼                                                    │
│  RAG 검색 수행                                               │
│        │                                                    │
│        ▼                                                    │
│  검색 결과 분석                                              │
│        │                                                    │
│    ┌───┴───┐                                                │
│    │       │                                                │
│ 충분함   불충분                                              │
│    │       │                                                │
│    ▼       ▼                                                │
│ 일반응답  Gap 분석 → 보완 제안 생성                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 2.1.2 API 스펙

| 항목 | 내용 |
|------|------|
| 엔드포인트 | `POST /ai/gap/policy-edu/suggestions` |
| 도메인 | POLICY (정책), EDUCATION (교육) |
| 요청 본문 | `{ "question": str, "domain": str, "company_id": int }` |
| 응답 | `{ "suggestions": List[str], "gap_analysis": str }` |

#### 2.1.3 구현 상세

**신규 파일**:

| 파일 | 설명 |
|------|------|
| `app/api/v1/gap_suggestion.py` | API 라우터 |
| `app/services/gap_suggestion_service.py` | Gap 분석 및 제안 생성 서비스 |
| `app/models/gap_suggestion.py` | Pydantic 모델 |

**핵심 로직**:

```python
class GapSuggestionService:
    """
    RAG 검색 결과의 Gap을 분석하고 보완 제안을 생성합니다.
    """

    async def analyze_gap(
        self,
        question: str,
        rag_results: List[dict],
        domain: str
    ) -> GapAnalysis:
        """
        1. RAG 검색 결과와 질문 비교
        2. 누락된 정보 식별
        3. 보완 제안 생성
        """
        pass

    async def generate_suggestions(
        self,
        gap_analysis: GapAnalysis
    ) -> List[str]:
        """
        Gap 분석 결과를 바탕으로 구체적인 문서 추가 제안 생성
        """
        pass
```

#### 2.1.4 Gap 분석 기준

| 기준 | 설명 |
|------|------|
| 관련성 점수 | RAG 검색 결과의 relevance score 평가 |
| 커버리지 | 질문의 핵심 키워드가 검색 결과에 포함된 비율 |
| 완전성 | 질문에 대한 완전한 답변이 가능한지 여부 |

#### 2.1.5 제안 유형

| 유형 | 예시 |
|------|------|
| 문서 추가 제안 | "연차 관련 상세 규정 문서를 추가하면 좋겠습니다" |
| 정보 보완 제안 | "2024년 이후 변경된 정책 정보가 필요합니다" |
| 카테고리 확장 제안 | "교육 도메인에 관련 정보가 있을 수 있습니다" |

---

## 3. 관련 커밋

| 커밋 | 내용 |
|------|------|
| `b7372b3` | feat: Add Phase 15 - RAG Gap Suggestion API |

---

## 4. 테스트 현황

| 테스트 항목 | 상태 |
|------------|------|
| Gap 분석 기본 테스트 | 통과 |
| 제안 생성 테스트 | 통과 |
| API 통합 테스트 | 통과 |
| 도메인별 분기 테스트 | 통과 |

---

## 5. 기술적 고려사항

### 5.1 성능 최적화

| 항목 | 접근 방식 |
|------|----------|
| RAG 중복 호출 방지 | 기존 RAG 결과 재사용 |
| LLM 호출 최소화 | Gap이 명확한 경우에만 LLM 사용 |
| 캐싱 | 동일 질문에 대한 결과 캐싱 |

### 5.2 향후 개선 방향

| 우선순위 | 항목 | 설명 |
|---------|------|------|
| 중간 | 자동 문서 추천 | Gap 발견 시 관련 문서 자동 검색 |
| 낮음 | 관리자 알림 | 반복되는 Gap 패턴 관리자에게 알림 |
| 낮음 | 통계 수집 | Gap 발생 빈도 및 유형 통계 |

---

## 6. 아키텍처 위치

```
┌─────────────────────────────────────────────────────────────┐
│                      AI 서비스 구조                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │
│  │ Chat API    │  │ FAQ API     │  │ Gap Suggestion API  │ │
│  │ /ai/chat    │  │ /ai/faq     │  │ /ai/gap/suggestions │ │
│  └──────┬──────┘  └──────┬──────┘  └──────────┬──────────┘ │
│         │                │                     │            │
│         └────────────────┼─────────────────────┘            │
│                          │                                  │
│                          ▼                                  │
│                  ┌───────────────┐                          │
│                  │  RAGFlow      │                          │
│                  │  검색 서비스   │                          │
│                  └───────────────┘                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 7. 다음 작업 예정

| 우선순위 | 작업 항목 | 담당 |
|---------|----------|------|
| 높음 | Phase 16: 퀴즈 자동 생성 API | AI팀 |
| 높음 | Phase 17: 퀴즈 QC 파이프라인 | AI팀 |
| 중간 | Phase 18: FAQ 초안 생성 API | AI팀 |

---

## 8. 회의 결론

### 8.1 성과 요약

| 항목 | 내용 |
|------|------|
| 완료 Phase | Phase 15 |
| 신규 API | `/ai/gap/policy-edu/suggestions` |
| 핵심 기능 | RAG 검색 결과 Gap 분석 및 보완 제안 |

### 8.2 핵심 구현 내용

1. **Gap 분석 서비스**: RAG 검색 결과의 품질과 완전성 평가
2. **제안 생성**: 부족한 정보를 보완할 수 있는 구체적 제안 제공
3. **도메인 분리**: POLICY/EDUCATION 도메인별 차별화된 분석

---

**회의록 종료**
